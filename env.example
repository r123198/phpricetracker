# Database Configuration
# Development (no SSL)
DATABASE_URL="postgresql://username:password@localhost:5432/ph_price_tracker"

# Production (with SSL) - Uncomment and configure for production
# DATABASE_URL="postgresql://username:password@host:5432/database?sslmode=require&ssl=true"

# Server Configuration
PORT=3000
NODE_ENV=development

# Security - API Keys
# Generate secure random keys for production
ADMIN_API_KEY="your-super-secret-admin-api-key-here"
API_KEY="your-super-secret-api-key-here"
JWT_SECRET="your-jwt-secret-key-here"

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000  # 15 minutes in milliseconds
RATE_LIMIT_MAX_REQUESTS=100  # Max requests per window

# CORS Configuration
# Comma-separated list of trusted origins
CORS_ORIGINS="http://localhost:3000,http://localhost:3001,https://yourdomain.com"

# Logging
LOG_LEVEL=info  # error, warn, info, debug
TEST_LOGGING=false

# Test Configuration
TEST_MODE=false
DISABLE_CRON=false
DISABLE_EMAIL=false

# External Services (disable for testing)
DISABLE_WEBHOOKS=false
DISABLE_NOTIFICATIONS=false

# Database Connection Settings
DB_POOL_SIZE=10
DB_CONNECTION_TIMEOUT=5000

# Security Headers
HSTS_MAX_AGE=31536000  # 1 year in seconds
HSTS_INCLUDE_SUBDOMAINS=true
HSTS_PRELOAD=true

# ===== SCALABILITY CONFIGURATION =====

# Cache Configuration
CACHE_TTL_SECONDS=600        # 10 minutes default cache TTL
CACHE_CHECK_PERIOD_SECONDS=120  # 2 minutes cache cleanup interval
CACHE_MAX_KEYS=1000          # Maximum number of keys in cache

# Redis Configuration (optional - falls back to node-cache if not set)
REDIS_URL="redis://localhost:6379"
REDIS_HOST="localhost"
REDIS_PORT=6379
REDIS_PASSWORD=""
REDIS_DB=0
REDIS_TLS=false

# Job Queue Configuration (BullMQ)
QUEUE_REDIS_URL="redis://localhost:6379"
QUEUE_PREFIX="ph-price-tracker"
MAX_CONCURRENT_JOBS=3
JOB_TIMEOUT_MS=300000  # 5 minutes

# Resource Limits (for small instances)
MAX_MEMORY_MB=512            # Memory limit for the application
MAX_CONCURRENT_REQUESTS=50   # Maximum concurrent requests
REQUEST_TIMEOUT_MS=30000     # Request timeout (30 seconds)

# Performance Tuning
ENABLE_COMPRESSION=true      # Enable gzip compression
ENABLE_CACHE=true           # Enable in-memory caching
ENABLE_HEALTH_CHECKS=true   # Enable health check endpoints
ENABLE_REDIS_CACHE=false    # Enable Redis caching (set to true when REDIS_URL is available)

# Background Job Settings
SCRAPER_TIMEOUT_MS=60000    # Scraper timeout (1 minute)
MAX_SCRAPER_CONCURRENCY=3   # Maximum concurrent scrapers
ENABLE_BACKGROUND_SCRAPING=false  # Enable background scraping
ENABLE_JOB_QUEUE=false      # Enable BullMQ job queue

# Monitoring
ENABLE_METRICS=true         # Enable basic metrics collection
METRICS_PORT=9090          # Metrics endpoint port (if enabled)

# Docker/Container Settings
CONTAINER_MODE=false        # Set to true when running in container
HEALTH_CHECK_INTERVAL=30    # Health check interval in seconds 